name: Sync Fork

on:
  schedule:
    - cron: '*/30 * * * *'
  workflow_dispatch:

concurrency: 
  group: ${{ github.workflow }}

jobs:
  sync:
    runs-on: ubuntu-latest
    if: github.repository_owner != '0xERR0R' && secrets.FORK_SYNC_TOKEN != ''
    steps:
      - uses: tgymnich/fork-sync@v1.8
        with:
          token: ${{ secrets.FORK_SYNC_TOKEN }}
          owner: 0xERR0R
          repo: blocky
          base: main
          head: main